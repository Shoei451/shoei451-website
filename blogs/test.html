<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ãƒ†ã‚¹ãƒˆ - Markdown Blog</title>
<style>
body {
    font-family: sans-serif;
    max-width: 800px;
    margin: 50px auto;
    padding: 20px;
    background: #f5f5f5;
}
.test-section {
    background: white;
    padding: 20px;
    margin: 20px 0;
    border-radius: 10px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
}
.success { color: green; }
.error { color: red; }
pre {
    background: #f0f0f0;
    padding: 10px;
    border-radius: 5px;
    overflow-x: auto;
}
</style>
</head>
<body>

<h1>ğŸ§ª Markdown Blog ãƒ†ã‚¹ãƒˆ</h1>

<div class="test-section">
    <h2>1. ãƒ•ã‚¡ã‚¤ãƒ«æ§‹é€ ãƒã‚§ãƒƒã‚¯</h2>
    <p>å¿…è¦ãªãƒ•ã‚¡ã‚¤ãƒ«ãŒå­˜åœ¨ã™ã‚‹ã‹ç¢ºèªã—ã¾ã™...</p>
    <div id="file-check"></div>
</div>

<div class="test-section">
    <h2>2. posts-list.js èª­ã¿è¾¼ã¿ãƒ†ã‚¹ãƒˆ</h2>
    <p id="posts-check">Loading...</p>
    <div id="posts-list"></div>
</div>

<div class="test-section">
    <h2>3. Markdown ãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿è¾¼ã¿ãƒ†ã‚¹ãƒˆ</h2>
    <button onclick="testMarkdownLoad()">Markdownãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚€</button>
    <div id="markdown-test"></div>
</div>

<div class="test-section">
    <h2>4. ãƒªãƒ³ã‚¯</h2>
    <ul>
        <li><a href="index.html">ãƒ–ãƒ­ã‚°ä¸€è¦§ãƒšãƒ¼ã‚¸</a></li>
        <li><a href="markdown-blog.html?post=2024-12-26-markdown-sample">Markdownã‚µãƒ³ãƒ—ãƒ«è¨˜äº‹</a></li>
    </ul>
</div>

<script src="posts-list.js"></script>
<script>
// 1. File structure check
const fileCheck = document.getElementById('file-check');
fileCheck.innerHTML = `
    <p class="success">âœ… posts-list.js ãŒèª­ã¿è¾¼ã¾ã‚Œã¾ã—ãŸ</p>
    <p>æ¬¡ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒå¿…è¦ã§ã™:</p>
    <ul>
        <li>blogs/index.html</li>
        <li>blogs/markdown-blog.html</li>
        <li>blogs/posts-list.js</li>
        <li>blogs/posts/2024-12-26-markdown-sample.md</li>
    </ul>
`;

// 2. Posts list check
const postsCheck = document.getElementById('posts-check');
const postsList = document.getElementById('posts-list');

if (typeof blogPosts !== 'undefined') {
    postsCheck.innerHTML = `<span class="success">âœ… blogPosts ãŒå®šç¾©ã•ã‚Œã¦ã„ã¾ã™ï¼ˆ${blogPosts.length}ä»¶ã®è¨˜äº‹ï¼‰</span>`;
    
    let html = '<ul>';
    blogPosts.forEach(post => {
        html += `<li><strong>${post.title}</strong> - ${post.link}</li>`;
    });
    html += '</ul>';
    postsList.innerHTML = html;
} else {
    postsCheck.innerHTML = '<span class="error">âŒ blogPosts ãŒå®šç¾©ã•ã‚Œã¦ã„ã¾ã›ã‚“</span>';
}

// 3. Markdown load test
function testMarkdownLoad() {
    const testDiv = document.getElementById('markdown-test');
    testDiv.innerHTML = '<p>Loading...</p>';
    
    fetch('posts/2024-12-26-markdown-sample.md')
        .then(response => {
            if (!response.ok) {
                throw new Error('File not found');
            }
            return response.text();
        })
        .then(text => {
            testDiv.innerHTML = `
                <p class="success">âœ… Markdownãƒ•ã‚¡ã‚¤ãƒ«ãŒèª­ã¿è¾¼ã‚ã¾ã—ãŸ</p>
                <p>ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚º: ${text.length} æ–‡å­—</p>
                <details>
                    <summary>å†…å®¹ã‚’è¡¨ç¤º</summary>
                    <pre>${text.substring(0, 500)}...</pre>
                </details>
            `;
        })
        .catch(error => {
            testDiv.innerHTML = `<p class="error">âŒ ã‚¨ãƒ©ãƒ¼: ${error.message}</p>`;
        });
}
</script>

</body>
</html>
